#!/usr/bin/make -f

DEB_DH_INSTALL_SOURCEDIR = debian/tmp

INSTALL_DIR = $(CURDIR)/$(DEB_DH_INSTALL_SOURCEDIR)

BRCMD_5_6_6_DIR := $(SWITCHLIGHT)/components/powerpc/broadcom/brcmd/brcmd-5.6.6-internal

%:
	dh $@

build-arch:
	dh build-arch

clean:
	dh clean

override_dh_auto_install:
	mkdir -p $(INSTALL_DIR)/usr/bin
	cp $(BRCMD_5_6_6_DIR)/build/$(DEB_HOST_GNU_TYPE)/bin/brcmd.shared $(INSTALL_DIR)/usr/bin/brcmd-5.6

override_dh_strip:
	dh_strip --dbg-package=brcmd-5.6.6-internal-dbg

override_dh_shlibdeps:
	@echo "warning: ignoring shlibdeps due to libbroadcom.so dependency."
